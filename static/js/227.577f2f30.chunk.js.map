{"version":3,"file":"static/js/227.577f2f30.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/modules/MoviesList/MoviesList.module.css?178d","modules/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/modules/MovieSearchForm/MovieSearchForm.module.css?0082","modules/MovieSearchForm/MovieSearchForm.jsx","pages/MoviesPage/MoviesPage.jsx","shared/services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__3SYjV\",\"item\":\"MoviesList_item__8iSkR\",\"link\":\"MoviesList_link__DLyzb\"};","import PropTypes from 'prop-types';\nimport { memo } from 'react';\n\nimport { Link, useLocation } from 'react-router-dom';\n\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n  // console.log(location, \"MoviesList\" )\n\n  const elements = movies.map(({ title, id }) => (\n    <li key={id} className={css.item}>\n      <Link\n        className={css.link}\n        state={{ from: location }}\n        to={`/movies/${id}`}\n      >\n        {title}\n      </Link>\n    </li>\n  ));\n\n  return (\n    <>\n      <ul className={css.list}>{elements}</ul>\n    </>\n  );\n};\n\nexport default memo(MoviesList);\n\nMoviesList.defaultProps = {\n  movies: [],\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieSearchForm_wrapper__jFUG9\",\"input\":\"MovieSearchForm_input__3-RcW\",\"button\":\"MovieSearchForm_button__h4XCc\",\"icon\":\"MovieSearchForm_icon__zvsWW\"};","import PropTypes from 'prop-types';\n\nimport { useState } from 'react';\nimport { GoSearch } from 'react-icons/go';\n\nimport css from './MovieSearchForm.module.css';\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  const [search, setSearch] = useState('');\n\n  const handleChange = e => setSearch(e.target.value);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(search);\n    setSearch('');\n  };\n\n  return (\n    <form className={css.wrapper} onSubmit={handleSubmit}>\n      <input\n        name=\"search\"\n        value={search}\n        required\n        placeholder=\"Search movie\"\n        className={css.input}\n        onChange={handleChange}\n      />\n      <button type=\"submit\" className={css.button}>\n        <GoSearch className={css.icon} />\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default MovieSearchForm;\n\nMovieSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { MovieSearch } from '../../shared/services/api';\nimport Loader from '../../shared/components/Loader/Loader';\nimport MovieSearchForm from '../../modules/MovieSearchForm/MovieSearchForm';\nimport MoviesList from 'modules/MoviesList/MoviesList';\n\nconst MoviePage = () => {\n  const [movies, setMovie] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    const fetchMovie = async () => {\n      try {\n        setLoading({ loading: true });\n        const results = await MovieSearch(query);\n\n        setMovie(results);\n      } catch ({ response }) {\n        setError(response.data.message);\n        toast.error(`ðŸ¦„ Sorry,${response.data.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMovie();\n  }, [query]);\n\n  const chanceSearch = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <>\n      <MovieSearchForm onSubmit={chanceSearch} />\n      {loading && <Loader />}\n      {error && <ToastContainer theme=\"colored\" />}\n      {movies && <MoviesList movies={movies} />}\n    </>\n  );\n};\n\nexport default MoviePage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'b73de80df2ed50327adfc0ab4da97097',\n  },\n});\n\nexport const filmsSearch = async (page = 1) => {\n  const { data } = await instance.get('/trending/movie/day?', {\n    params: {\n      page,\n    },\n  });\n  return data.results;\n};\n\nexport const getMovieDetails = async movie_id => {\n  const { data } = await instance.get(`/movie/${movie_id}?`);\n  return data;\n};\n\nexport const MovieSearch = async query => {\n  const { data } = await instance.get('/search/movie?', {\n    params: {\n      query,\n    },\n  });\n  return data.results;\n};\n\nexport const getMovieCast = async movie_id => {\n  const { data } = await instance.get(`/movie/${movie_id}/credits?`);\n  return data.cast;\n};\n\nexport const getReviews = async movie_id => {\n  const { data } = await instance.get(`/movie/${movie_id}//reviews?`);\n  return data.results;\n};\n"],"names":["MoviesList","movies","location","useLocation","elements","map","title","id","className","css","state","from","to","memo","defaultProps","onSubmit","useState","search","setSearch","e","preventDefault","name","value","required","placeholder","onChange","target","type","setMovie","loading","setLoading","error","setError","useSearchParams","searchParams","setSearchParams","query","get","useEffect","fetchMovie","MovieSearch","results","response","data","message","toast","Loader","theme","instance","axios","baseURL","params","api_key","filmsSearch","page","getMovieDetails","movie_id","getMovieCast","cast","getReviews"],"sourceRoot":""}